# Цель
Сделать простой в установки и использовании мессенджер для рабочих групп. Образцовая реализация: Slack. Использование предполагается в закрытых коллективах, поэтому вопросы сообщества (заявки в друзья, спам, некорректное поведение, модерация, блокирование пользователей) не стоят.

# Основные сущности

## Пользователи
Пользователи авторизуются (идентифицируют себя) с помощью любой соц. сети. Пользователи должны дополнительно указать свое ФИО и никнейм, который по-умолчанию получается транслитерацией ФИО. Никнейм пользователя должен быть уникален. Пользователи не обладают никакими отношениями (дружба, following) за исключением участия в общих чатах.

## Чаты
Чат - это место общения 2 и более пользователей. Чаты могут быть персональные (2 участника), а могут быть групповыми. В групповых чатах администратора нет. Единственный способ попасть в чат - быть добавленным другим участником чата. У группового чата так же как и у пользователя может быть название и никнейм. Никнейм чата должен быть уникален.

## Сообщения
Пользователи, участвующие в чате могу отправлять не сообщения - произвольный текст до размером до 4Кб. Сообщения могут содержать простую markdown-like разметку, например @somenick - ссылка на пользователя и т.п.

## Файлы
Пользователи могут загружать файлы на сервер и отправлять ссылку на них в чат. При этом файлы становятся связаны с пользователем, который их загрузил и с чатом.

# Основные сценарии

## Вход в систему
Пользователю предлагается авторизоваться с использованием любой соц. Сети. Если это первый вход пользователь должен заполнить свои ФИО и никнейм. После этого пользователь попадает на основной экран мессенджера.

## Поиск пользователей
Поскольку у пользователей нет постоянных списков контактов, поиск осуществляется по всей базе пользователей проекта. Поиск происходит по ФИО и никнейму пользователя.

## Поиск чатов
Осуществляется по всем чатам, в которых принимал участие текущий пользователь. Поиск происходит по названию и никнейму чата. Первыми отображаются те чаты, в которых было последнее сообщение.

## Получение списка чатов пользователя
Пользователь получает только те чаты, участником которых он является. Сортировка: по дате последнего сообщения.

## Создание персонального чата
Создание персонального чата происходит автоматически при клике на любого пользователя, если чат до этого не был создан. Из персонального чата нельзя выйти.

## Создание группового чата
Создание группового чата происходит нажатием кнопки “создать групповой чат”. Сразу после создания в чате присутствует только его создатель. Создателю предлагается задать название и никнейм нового чата и добавить участников.

## Добавление участников в групповой чат
Любой из участников чата может добавить дополнительных пользователей в чат. При этом в чат будет должно быть отправлено сервисное сообщение. У добавленного пользователя чат появится в списке чатов в самом верху, будет отмечен непрочитанным.

## Выход из группового чата
Любой из участников чата может в любой момент покинуть чат нажатием кнопки “покинуть чат”. При этом он исчезает из списка участников, чат исчезает из списка его чатов (и не может быть более “найден”), а в чат отправляется сервисное сообщение. Когда последний участник покинул групповой чат, чат удаляется.

## Отправка сообщения в чат
Любой участник чата может отправить в него сообщение. Это сообщение будет добавлено в историю чата и отправлено всем его участникам.

## Прочтение сообщения
Если сообщение оказывается видимым пользователю (пользователь просматривает чат в данный момент), то сообщение считается прочитанным, иначе для данного пользователя увеличится счетчик непрочитанных сообщений в чате.

## Загрузка файла
Пользователь, находясь на странице чата загружает файл на сервер. Файл помечается принадлежащим текущему пользователю и текущему чату. В чат отправляется сервисное сообщение с ссылкой на скачивание файла.


# Минимальный функционал
В для сдачи проекта (на удовл.) необходимо реализовать авторизацию, поиск пользователей, и персональные чаты.
Групповые загрузка файлов и групповые чаты - функционал на хор. И отл.
